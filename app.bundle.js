!function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1)}([function(t,e,i){},function(t,e,i){"use strict";i.r(e);i(0);class n{constructor(t,e,i){this.id=t,this.name=e,this.pinned=i}togglePinned(){this.pinned=!this.pinned}}function s(t){return t.filter(t=>!t.pinned)}function r(t){return t.filter(t=>t.pinned)}const l=[new n(1,"Task 1",!0),new n(2,"Task 2",!1)];new class{constructor(t,e){this.html=t,this.tasks=e,this.lastID=this.tasks.length}init(){this.html.addSubmitListener(this.submitListener.bind(this)),this.html.addInputListener(this.inputListener.bind(this)),this.redrawDOM(this.tasks)}countPinned(){return this.tasks.filter(t=>t.pinned).length}redrawDOM(t){this.html.buildTaskctList(t,this.countPinned()),this.html.addPinListener(this.pinListener.bind(this))}submitListener(t){t.preventDefault();const e=this.html.filterEl.value;""===e?this.html.alertError[0].classList.remove("hidden"):(this.lastID+=1,this.tasks.push(new n(this.lastID,e,!1)),this.html.filterEl.value="",this.redrawDOM(this.tasks))}inputListener(){const t=this.html.filterEl.value;this.html.alertError[0].classList.add("hidden");const e=function(t,e){return[...s(t).filter(t=>(function(t,e){const i=e.trim().toLowerCase();return t.toLowerCase().includes(i)})(t.name,e)),...r(t)]}(this.tasks,t);this.redrawDOM(e)}pinListener(t){this.tasks=this.tasks.map(e=>(e.id===+t&&e.togglePinned(),e)),this.redrawDOM(this.tasks)}}(new class{constructor(){this.filterEl=document.querySelector("[data-id=filter-text]"),this.filterBtnEl=document.querySelector("[data-action=filter]"),this.alertError=document.getElementsByClassName("alert"),this.pinAlert=document.getElementsByClassName("pinned"),this.taskAlert=document.getElementsByClassName("all-task"),this.allTaskListEl=document.querySelector("[data-section=all-task-list]"),this.pinTaskListEl=document.querySelector("[data-section=pin-task-list]"),this.pins=document.getElementsByClassName("pin")}buildTaskctList(t,e){this.allTaskListEl.innerHTML="",this.pinTaskListEl.innerHTML="",e?this.pinAlert[0].classList.add("hidden"):this.pinAlert[0].classList.remove("hidden"),e!==t.length?this.taskAlert[0].classList.add("hidden"):this.taskAlert[0].classList.remove("hidden"),t.forEach(t=>{const e=document.createElement("li");e.dataset.id=t.id,t.pinned?(e.innerHTML=`${t.name} <button class="pin">V</button>`,this.pinTaskListEl.appendChild(e)):(e.innerHTML=`${t.name} <button class="pin">&nbsp;</button>`,this.allTaskListEl.appendChild(e))})}addSubmitListener(t){this.filterBtnEl.addEventListener("click",e=>{t.call(null,e)})}addInputListener(t){this.filterEl.addEventListener("input",()=>{t.call(null)})}addPinListener(t){[...this.pins].forEach(e=>{e.addEventListener("click",e=>{t.call(null,e.currentTarget.parentElement.dataset.id)})})}},l).init()}]);